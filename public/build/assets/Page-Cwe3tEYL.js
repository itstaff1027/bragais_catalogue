import{W as $,q as ee,r,j as o,y as l}from"./app-Bcg6lVfv.js";import"./AuthenticatedLayout-BqB5sKmN.js";import{P as oe}from"./ProductsLayout-MA5fygf6.js";import{T as S,I as d}from"./TextInput-CjSDKzKn.js";import{I as i}from"./InputLabel-b208XWk4.js";import{R as te,C as se,S as re,H as ce,a as le}from"./RadioButtonStatus-BTrfVm1L.js";import"./ApplicationLogo-CfB3j6k0.js";import"./transition-CLjT16kT.js";function _e({items:s}){const{data:p,setData:m,post:v,processing:ae,errors:n,reset:c,isDirty:ne}=$({id:s.id,model:s.model,status:s.status,size_id:s.size_id,category_id:s.category_id});ee();const[N,z]=r.useState(s.model),[w,H]=r.useState([]),[E,b]=r.useState([]),[F,A]=r.useState([]),[I,T]=r.useState([]),[D,k]=r.useState([]),[O,P]=r.useState([]),[R,M]=r.useState([]),G=e=>{e.preventDefault(),v(route("products_name.create"),{onSuccess:()=>{c("model","status","product_color_id","size_id","heel_height_id","category_id")}})},K=e=>{l.post(route("add_product.color"),e,{onSuccess:()=>{c("model","status","product_color_id","size_id","heel_height_id","category_id")},onError:t=>{console.error("An error occurred:",t)},onFinish:()=>{x(),_()},preserveScroll:!0})},B=e=>{l.post(route("remove_product.color"),e,{onSuccess:()=>{c("model","status","product_color_id","size_id","heel_height_id","category_id")},onError:t=>{console.error("An error occurred:",t)},onFinish:()=>{x(),_()},preserveScroll:!0})},L=e=>{console.log(e),l.post(route("heel_height_product.update"),e,{onSuccess:()=>{c("model","status","product_color_id","size_id","heel_height_id","category_id")},onError:t=>{console.error("An error occurred:",t)},onFinish:()=>{h(),u()},preserveScroll:!0})},U=e=>{l.post(route("heel_height_product.destroy"),e,{onSuccess:()=>{c("model","status","product_color_id","size_id","heel_height_id","category_id")},onError:t=>{console.error("An error occurred:",t)},onFinish:()=>{h(),u()},preserveScroll:!0})},W=e=>{console.log(e),l.post(route("sizes_product.update"),e,{onSuccess:()=>{c("model","status","product_color_id","size_id","heel_height_id","category_id")},onError:t=>{console.error("An error occurred:",t)},onFinish:()=>{y(),f()},preserveScroll:!0})},q=e=>{l.post(route("sizes_product.destroy"),e,{onSuccess:()=>{c("model","status","product_color_id","size_id","heel_height_id","category_id")},onError:t=>{console.error("An error occurred:",t)},onFinish:()=>{y(),f()},preserveScroll:!0})},J=e=>{confirm("Are you sure you want to update the product status?")?l.post(route("product_update.status"),{id:s.id,status:e},{onSuccess:()=>{c("model","status","product_color_id","size_id","heel_height_id","category_id")},onError:t=>{console.error("An error occurred:",t)},onFinish:()=>{h(),u()},preserveScroll:!0}):console.log("Action canceled by user")},Q=e=>{confirm("Are you sure you want to change the Category of this Product?")?l.post(route("update_product.category"),{id:s.id,category_id:e},{onSuccess:t=>{m("category_id",t.props.items.category_id)},onError:t=>{console.error("An error occurred:",t)},preserveScroll:!0}):console.log("Action canceled by user")},V=()=>{confirm("Are you sure you want to change the Model Name of this Product?")?l.post(route("update_product.model"),{id:s.id,model:p.model},{onSuccess:e=>{m("model",e.props.items.model),z(e.props.items.model)},onError:e=>{console.error("An error occurred:",e)},preserveScroll:!0}):console.log("Action canceled by user")},[g,C]=r.useState([{id:1,value:""},{id:2,value:""},{id:3,value:""},{id:4,value:""},{id:5,value:""}]),X=(e,t)=>{const a=g.map(j=>j.id===e?{...j,value:t}:j);C(a),m("product_keys",a)},Y=e=>{e.preventDefault(),v(route("storage_create.product_keys",s.id),{onSuccess:()=>{c("product_keys"),C([{id:1,value:""},{id:2,value:""},{id:3,value:""},{id:4,value:""},{id:5,value:""}])}})},Z=async()=>{try{const t=await(await fetch(route("storage.product_keys",s.id),{headers:{"Content-Type":"application/json"}})).json();H(t)}catch(e){console.log("Something went Wrong",e)}},x=async()=>{try{const t=await(await fetch(route("product.colors"),{headers:{"Content-Type":"application/json"}})).json();b(t)}catch(e){console.error("Error fetching colors:",e)}},_=async()=>{try{const e=await fetch(route("color_product",s.id),{headers:{"Content-Type":"application/json"}});if(!e.ok){console.error("Error response status:",e.status);const a=await e.text();console.error("Error response body:",a);return}const t=await e.json();A(t)}catch(e){console.error("Error fetching colors:",e)}},u=async()=>{try{const t=await(await fetch(route("product.heel_heights"),{headers:{"Content-Type":"application/json"}})).json();T(t)}catch(e){console.error("Error fetching HeelHeight:",e)}},h=async()=>{try{const e=await fetch(route("heel_height_product",s.id),{headers:{"Content-Type":"application/json"}});if(!e.ok){console.error("Error response status:",e.status);const a=await e.text();console.error("Error response body:",a);return}const t=await e.json();k(t)}catch(e){console.error("Error fetching HeelHeight:",e)}},f=async()=>{try{const t=await(await fetch(route("product.sizes"),{headers:{"Content-Type":"application/json"}})).json();P(t)}catch(e){console.error("Error fetching Size:",e)}},y=async()=>{try{const e=await fetch(route("sizes_product",s.id),{headers:{"Content-Type":"application/json"}});if(!e.ok){console.error("Error response status:",e.status);const a=await e.text();console.error("Error response body:",a);return}const t=await e.json();M(t)}catch(e){console.error("Error fetching Size:",e)}};return r.useEffect(()=>{Z(),x(),_(),h(),u(),y(),f()},[]),o.jsx(oe,{header:o.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Edit Product"}),children:o.jsxs("div",{className:"flex flex-col justify-center w-full",children:[w.length>0?o.jsxs("form",{onSubmit:G,className:"flex flex-col w-full p-4",children:[o.jsx("div",{className:"flex w-full p-4 overflow-auto",children:w.map(e=>o.jsx("div",{className:"flex w-full p-1",children:o.jsxs("div",{className:"flex flex-col justify-center items-center",children:[e.storage_value==="empty"?o.jsx("div",{className:"flex justify-center items-center text-white w-36 h-36 bg-slate-400/50 rounded-lg p-4 m-1",children:"+ Image"}):o.jsx("img",{src:"/assets/jehzasilver.webp",className:"w-80",alt:"Google Drive Image"}),o.jsx(S,{id:"keys",type:"text",name:"keys",value:e.storage_value,placeholder:"Add Google Keys",className:" rounded-3xl",isFocused:!0,onChange:t=>handleKeysChange(e.id,t.target.value)})]},e.id)},e.id))}),g.some(e=>e.value.trim()!=="")&&o.jsx("button",{type:"submit",className:"m-2 p-2 w-1/6 rounded-full bg-blue-400",children:"Update"})]}):o.jsxs("form",{onSubmit:Y,className:"flex flex-col w-full p-4",children:[o.jsx("div",{className:"flex w-full p-4 overflow-auto",children:g.map(e=>o.jsx("div",{className:"flex w-full p-1",children:o.jsxs("div",{className:"flex flex-col justify-center items-center",children:[o.jsx("div",{className:"flex justify-center items-center text-white w-36 h-36 bg-slate-400/50 rounded-lg p-4 m-1",children:"+ image"}),o.jsx(S,{id:"input",type:"text",name:"input",value:e.value,placeholder:"Add Google Keys",className:" rounded-3xl",isFocused:!0,onChange:t=>X(e.id,t.target.value)}),o.jsx(d,{message:n.product_keys,className:"mt-2"})]},e.id)},e.id))}),g.some(e=>e.value.trim()!=="")&&o.jsx("button",{type:"submit",className:"m-2 p-2 w-1/6 rounded-full bg-emerald-400",children:"Submit"})]}),o.jsxs("div",{className:"w-full p-4",children:[o.jsx(i,{htmlFor:"model",value:"Model Name"}),o.jsx(S,{id:"model",type:"text",name:"model",value:p.model,className:"mt-1 block w-1/2",isFocused:!0,onChange:e=>m("model",e.target.value)}),N!==p.model?o.jsx(o.Fragment,{children:o.jsx("button",{className:"p-4 m-4 rounded-xl text-white bg-blue-400",type:"submit",onClick:V,children:"Update"})}):o.jsx(o.Fragment,{}),o.jsx(d,{message:n.model,className:"mt-2"}),o.jsx("hr",{}),o.jsx(i,{htmlFor:"status",value:"Statuses"}),o.jsx(te,{handleSelectChange:e=>J(e),status:s.status}),o.jsx(d,{message:n.status,className:"mt-2"}),o.jsx("hr",{}),o.jsx(i,{htmlFor:"colors",value:"Colors"}),o.jsx("div",{className:"p-4",children:o.jsx(se.EditColors,{handleSelectedColor:e=>K(e),handleRemoveColor:e=>B(e),product_id:s.id,fetchSelectedColors:_,fetchSelectionColors:x,filteredOptions:E,selectedColors:F})}),o.jsx(d,{message:n.color_id,className:"mt-2"}),o.jsx("hr",{}),o.jsx(i,{htmlFor:"sizes",value:"Sizes"}),o.jsxs("div",{className:"p-4",children:[o.jsx(re.DropDown,{handleSelectedSize:e=>W(e),handleRemoveSize:e=>q(e),product_id:s.id,fetchSelectedSizes:y,fetchSelectionSizes:f,filteredOptions:O,selectedSizes:R}),o.jsx(d,{message:n.size_id,className:"mt-2"})]}),o.jsx("hr",{}),o.jsx(i,{htmlFor:"heel_heights",value:"Heel Heights"}),o.jsxs("div",{className:"p-4",children:[o.jsx(ce.DropDown,{handleSelectedHeelHeight:e=>L(e),handleRemoveHeelHeight:e=>U(e),product_id:s.id,fetchSelectedHeelHeights:h,fetchSelectionHeelHeights:u,filteredOptions:I,selectedHeelHeights:D}),o.jsx(d,{message:n.heel_height_id,className:"mt-2"})]}),o.jsx("hr",{}),o.jsx(i,{htmlFor:"categories",value:"Categories"}),o.jsxs("div",{className:"p-4",children:[o.jsx(le.Edit,{handleSelectChange:e=>Q(e),selectedItemId:p.category_id}),o.jsx(d,{message:n.category_id,className:"mt-2"})]})]})]})})}export{_e as default};
