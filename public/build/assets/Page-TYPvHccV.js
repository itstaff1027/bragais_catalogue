import{W as A,r as m,j as l,y as T}from"./app-iZSV8EgF.js";import"./Dropdown-B8arDyWx.js";import"./AuthenticatedLayout-BgT9IyFk.js";import{T as H}from"./ToolsLayout-CCWM31ER.js";import"./TextInput-BrZu-hyR.js";import{I as h}from"./Image-B1--NIiF.js";import{t as I,u as S,b as B,a as g,w as P,m as W}from"./Constant-CNzXfxU_.js";import"./transition-BkvbL9vh.js";import"./ApplicationLogo-CLxbFd_l.js";import"./InputLabel-n_zGs8Sd.js";function se({items:i,page_images:s}){const{data:$,setData:X,post:k,processing:O,errors:q,reset:b,isDirty:z}=A({imageTop:[],imageBody:[],imageBottom:[],imageFooter:[],imageWomensXScrollable:[],imageMensXScrollable:[],gender:"womens",folder:"local_images"}),[r,L]=m.useState("womens"),[y,u]=m.useState([]),[F,v]=m.useState([]),[U,w]=m.useState([]),[G,C]=m.useState([]),[M,x]=m.useState([]),[D,j]=m.useState([]);m.useState([]);const a=(e,o,t)=>{const n=Array.from(e.target.files).filter(d=>d.type.startsWith("image/")),N=n.map(d=>({file:d,preview:URL.createObjectURL(d)}));o(d=>[...d,...N]),X(t,n)},c=(e,o,t,p)=>{o(()=>{URL.revokeObjectURL(t[e].preview);const n=t.filter((N,d)=>d!==e);return X(p,n.map(N=>N.file)),n})},f=(e,o)=>{T.post(route("upload.image_section"),{...$,section_id:e[0].id,page_section:o},{onSuccess:t=>{t.props.url},onError:t=>{console.error("An error occurred:",t)},onFinish:()=>{b(),u([]),v([]),w([]),C([]),j([]),x([])},preserveScroll:!0})},R=(e,o,t,p)=>{T.post(route("upload.updated_image_section"),{...$,section_id:e[0].id,section_image_id:o,image_path:t,page_section:p},{onSuccess:n=>{n.props.url},onError:n=>{console.error("An error occurred:",n)},onFinish:()=>{b(),u([]),v([]),w([]),C([]),j([]),x([])},preserveScroll:!0})},E=e=>{T.post(route("destroy.image_section"),e,{onSuccess:()=>{b()},onError:o=>{console.error("An error occurred:",o)},onFinish:()=>{b(),u([]),v([]),w([]),C([]),j([]),x([])},preserveScroll:!0})};return l.jsxs(H,{children:[l.jsx("h1",{children:"Choose Page To Update Image Contents for Front pages"}),l.jsxs("select",{onChange:e=>{L(e.target.value),X("gender",e.target.value)},children:[l.jsx("option",{disabled:!0,children:"Select Category"}),l.jsx("option",{value:"womens",children:"Womens"}),l.jsx("option",{value:"mens",children:"Mens"})]}),r&&l.jsxs("div",{className:"flex flex-col w-full p-2",children:[l.jsxs("div",{className:"w-full",children:[l.jsxs("h1",{children:["Top ",r," Image"]}),l.jsx("div",{className:"w-full border"}),s!=null&&s.some(e=>{var o;return((o=e.section)==null?void 0:o.section_name)===I&&e.gender===r})?s==null?void 0:s.filter(e=>{var o;return((o=e.section)==null?void 0:o.section_name)===I&&e.gender===r}).map((e,o)=>l.jsxs("div",{children:[l.jsx("img",{src:`${S}${e.image_url}`,className:"flex w-auto h-32"}),l.jsx(h,{previewStyle:"h-72 w-72",handleFileChange:t=>a(t,u,"imageTop"),handleRemoveImage:t=>c(t,u,y,"imageTop"),handleUpload:()=>R(i.filter(t=>t.section_name===I),e.id,e.image_url,"imageTop"),previews:y,inputName:"previewsHeader"})]},o)):l.jsx(h,{previewStyle:"h-72 w-72",handleFileChange:e=>a(e,u,"imageTop"),handleRemoveImage:e=>c(e,u,y,"imageTop"),handleUpload:()=>f(i.filter(e=>e.section_name===I),"imageTop"),previews:y,inputName:"previewsHeader"})]}),l.jsxs("div",{className:"w-full",children:[l.jsxs("h1",{children:["Body ",r," Image"]}),l.jsx("div",{className:"w-full border"}),s!=null&&s.some(e=>{var o;return((o=e.section)==null?void 0:o.section_name)===B&&e.gender===r})?s==null?void 0:s.filter(e=>{var o;return((o=e.section)==null?void 0:o.section_name)===B&&e.gender===r}).map((e,o)=>l.jsxs("div",{children:[l.jsx("img",{src:`${S}${e.image_url}`,className:"flex w-auto h-32"}),l.jsx(h,{previewStyle:"h-72 w-72",handleFileChange:t=>a(t,v,"imageBody"),handleRemoveImage:t=>c(t,v,previews,"imageBody"),handleUpload:()=>R(i.filter(t=>t.section_name===B),e.id,e.image_url,"imageBody"),previews:F,inputName:"previewsBody"})]},o)):l.jsx(h,{previewStyle:"h-72 w-72",handleFileChange:e=>a(e,v,"imageBody"),handleRemoveImage:e=>c(e,v,F,"imageBody"),handleUpload:()=>f(i.filter(e=>e.section_name===B),"imageBody"),previews:F,inputName:"previewsBody"})]}),l.jsxs("div",{className:"w-full",children:[l.jsxs("h1",{children:["Bottom ",r," Image"]}),l.jsx("div",{className:"w-full border"}),s!=null&&s.some(e=>{var o;return((o=e.section)==null?void 0:o.section_name)===g&&e.gender===r})?s==null?void 0:s.filter(e=>{var o;return((o=e.section)==null?void 0:o.section_name)===g&&e.gender===r}).map((e,o)=>l.jsxs("div",{children:[l.jsx("img",{src:`${S}${e.image_url}`,className:"flex w-auto h-32"}),l.jsx(h,{previewStyle:"h-72 w-72",handleFileChange:t=>a(t,w,"imageBottom"),handleRemoveImage:t=>c(t,w,previews,"imageBottom"),handleUpload:()=>R(i.filter(t=>t.section_name===g),e.id,e.image_url,"imageBottom"),previews:U,inputName:"previewsBottom"})]},o)):l.jsx(h,{previewStyle:"h-72 w-72",handleFileChange:e=>a(e,w,"imageBottom"),handleRemoveImage:e=>c(e,w,U,"imageBottom"),handleUpload:()=>f(i.filter(e=>e.section_name===g),"imageBottom"),previews:U,inputName:"previewsBottom"})]}),r==="womens"&&l.jsxs("div",{className:"w-full",children:[l.jsx("h1",{children:"Womens X Scrollable Image"}),l.jsx("div",{className:"w-full border"}),l.jsx(h,{previewStyle:"h-72 w-72",handleFileChange:e=>a(e,x,"imageWomensXScrollable"),handleRemoveImage:e=>c(e,x,M,"imageWomensXScrollable"),handleUpload:()=>f(i.filter(e=>e.section_name===P),"imageWomensXScrollable"),previews:M,inputName:"previewsWomensXScrollable"}),l.jsx("div",{className:"flex overflow-x-auto p-4 gap-4",children:s!=null&&s.some(e=>{var o;return((o=e.section)==null?void 0:o.section_name)===P&&e.gender===r})?s==null?void 0:s.filter(e=>{var o;return((o=e.section)==null?void 0:o.section_name)===P&&e.gender===r}).map(e=>l.jsxs("div",{className:"min-w-[200px] flex justify-center items-center relative",children:[l.jsx("img",{src:`${S}${e.image_url}`,alt:"Product Image",className:"h-44"}),l.jsx("button",{type:"button",onClick:()=>E({id:e.id,path:e.image_url}),className:"absolute top-0 right-0 bg-red-500 text-white px-3 rounded-3xl hover:bg-red-700 transition delay-30",children:"Trash"})]},e.id)):l.jsx("div",{children:"No Images can Display, Upload an Image to Display."})})]}),r==="mens"&&l.jsxs("div",{className:"w-full",children:[l.jsx("h1",{children:"Mens X Scrollable Image"}),l.jsx("div",{className:"w-full border"}),l.jsx(h,{previewStyle:"h-72 w-72",handleFileChange:e=>a(e,j,"imageMensXScrollable"),handleRemoveImage:e=>c(e,j,D,"imageMensXScrollable"),handleUpload:()=>f(i.filter(e=>e.section_name===W),"imageMensXScrollable"),previews:D,inputName:"previewsMensXScrollable"}),l.jsx("div",{className:"flex overflow-x-auto p-4 gap-4",children:s!=null&&s.some(e=>{var o;return((o=e.section)==null?void 0:o.section_name)===W&&e.gender===r})?s==null?void 0:s.filter(e=>{var o;return((o=e.section)==null?void 0:o.section_name)===W&&e.gender===r}).map(e=>l.jsxs("div",{className:"min-w-[200px] flex justify-center items-center relative",children:[l.jsx("img",{src:`${S}${e.image_url}`,alt:"Product Image",className:"h-44"}),l.jsx("button",{type:"button",onClick:()=>E({id:e.id,path:e.image_url}),className:"absolute top-0 right-0 bg-red-500 text-white px-3 rounded-3xl hover:bg-red-700 transition delay-30",children:"Trash"})]},e.id)):l.jsx("div",{children:"No Images can Display, Upload an Image to Display."})})]})]})]})}export{se as default};
